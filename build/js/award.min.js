!function(t){function e(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var a={};return e.m=t,e.c=a,e.p="",e(0)}([function(t,exports,e){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(){var t={},e=location.search;return e=e.replace(/^\s*|\s*$/g,"").replace(/^(\?|#|&)/,""),e.split("&").forEach(function(e){var a=e.split("="),n=a.shift(),r=a.length>0?a.join("="):void 0;n=decodeURIComponent(n),r=void 0===r?null:decodeURIComponent(r),void 0===t[n]?t[n]=r:Array.isArray(t[n])?t[n].push(r):t[n]=[t[n],r]}),t}function o(t){var e=new Date(t),a=e.getMonth()+1,n=(Array(2).join(0)+e.getDate()).slice(-2);return a+"."+n}var i=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),s=e(66),d=a(s),u=e(63),c=a(u),l=e(62),p=a(l),f=e(64),h=a(f),y=e(61),w=a(y),v={bizType:{getLastUserAddress:"awardCenter.getLastAddress",getList:"awardCenter.getList",getAward:"awardCenter.getAward",getAlipayInfo:"awardCenter.getAlipayInfo",recordAddress:"awardCenter.recordAddress"},weakGet:"com.youku.aplatform.weakGet",securySet:"com.youku.aplatform.securySet",get:"com.youku.aplatform.get"},m=function(){function t(){n(this,t),localStorage.firstTx=!0,this.today="",this.tipStr="",this.awardId="",this.alipayID="",this.realName="",this.body=$("body"),this.isLogin=!1,this.isPartIn=!1,this.onBindAlipay=!1,this.ele="",this.onRegAlipay=globalConfig.onRegAlipay,this.alipayRegUrl=globalConfig.alipayRegUrl,this.init()}return i(t,[{key:"init",value:function(){this.stopDoubleClick(),this.getLists(),this.addEvents(),this.handleListData(),this.handleStyle()}},{key:"stopDoubleClick",value:function(){var t=null;document.body.addEventListener("touchend",function(e){var a=(new Date).getTime();t=t||a+1;var n=a-t;return n<500&&n>0?(e.preventDefault(),!1):void(t=a)},!1)}},{key:"handleStyle",value:function(){var t=globalConfig.hdDesc,e=(globalConfig.hdItem,r());if($(".bottom").html(t),e.from)switch(e.from){case"default":$(".wrap").addClass("default");break;case"card":$(".wrap").addClass("card-wrap").removeClass("default").removeClass("swordrain-wrap");break;case"swordrain":$(".wrap").addClass("swordrain-wrap").removeClass("default").removeClass("card-wrap")}}},{key:"handleListData",value:function(){var t=this,e=this;d.default.subscribe("award-lists",function(e,a){var n=a.data&&a.data.result;if(t.today=n&&n.time,t.today=1e3*t.today,a.data&&a.data.success)if("0"==n.e.code){if(t.isLogin=!0,t.handleState(t.isLogin,t.tipStr,""),"string"==typeof n.data){var r=JSON.parse(n.data);r&&r.length>0?(t.isPartIn=!0,t.renderLists(r)):(t.isPartIn=!1,t.tipStr="<p>积极参加活动，一定会有好运来临</p>",t.handleState(t.isLogin,t.isPartIn,t.tipStr))}}else"-10"==n.e.code&&(t.isLogin=!1,t.tipStr='<p>登录优酷账号才能查看奖品哦</p><a href="javascript:;" class="btn login-btn" id="login-btn">登录</a>',t.handleState(t.isLogin,!1,t.tipStr))}),d.default.subscribe("alipay-info",function(t,a){var n=a.data&&a.data.result,r={};if(a.data&&a.data.success)if("0"==n.e.code){if(e.onBindAlipay=!0,"string"==typeof n.data){var o=JSON.parse(n.data),i=localStorage.getItem("firstTx");e.alipayID=o.alipayID,e.realName=o.realName,r={type:"normal",msg:"您将提取到"+o.alipayID+"支付宝账号",showBtn:!0,btnTxt:"确定",btnId:"txBtn",awardId:e.awardId},"true"==i&&(r.changeBtn=!0,r.btnTxt="确定",r.changeBtnTxt="更换支付宝",r.changeBtnId="reBind"),e.renderToast(r)}}else"-10"==n.e.code?(e.isLogin=!1,e.tipStr='<p>登录优酷账号才能查看奖品哦</p><a href="javascript:;" class="btn login-btn" id="login-btn">登录</a>',e.handleState(e.isLogin,!1,e.tipStr)):"-500"==n.e.code?(e.onBindAlipay=!1,e.showForm()):"-501"==n.e.code||"-502"==n.e.code?(r={type:"normal",msg:"您的支付宝账号已完成多次奖金提取  换个支付宝帐号试下吧",showBtn:!0,btnTxt:"更换支付宝",btnId:"reBind"},e.renderToast(r)):"-510"==n.e.code?(r={type:"normal",msg:"当前支付宝账号不能为空 请重新输入",showBtn:!0,btnTxt:"重新提取",btnId:"reBind"},e.renderToast(r)):"-511"==n.e.code?(r={type:"normal",msg:"当前支付宝账号过长 请重新输入",showBtn:!0,btnTxt:"重新提取",btnId:"reBind"},e.renderToast(r)):"-512"==n.e.code?(r={type:"normal",msg:"当前支付宝账号不合法 请重新输入",showBtn:!0,btnTxt:"重新提取",btnId:"reBind"},e.renderToast(r)):"-513"==n.e.code?(r={type:"normal",msg:"当前支付宝账号对应的真实姓名为空",showBtn:!0,btnTxt:"重新提取",btnId:"reBind"},e.renderToast(r)):"-514"==n.e.code?(r={type:"normal",msg:"当前支付宝账号对应的真实姓名过长 请重新输入",showBtn:!0,btnTxt:"重新提取",btnId:"reBind"},e.renderToast(r)):"-515"==n.e.code&&(r={type:"normal",msg:"当前支付宝账号对应的真实姓名不合法 请重新输入",showBtn:!0,btnTxt:"重新提取",btnId:"reBind"},e.renderToast(r))})}},{key:"handleError",value:function(t){var e=this;"-501"!=t&&"-502"!=t||(opts={type:"normal",msg:"您的支付宝账号已完成多次奖金提取  换个支付宝帐号试下吧",showBtn:!0,btnTxt:"更换支付宝",btnId:"reBind"},e.renderToast(opts))}},{key:"handleAward",value:function(t,e,a,n){var r=this,o={};switch(t){case-20:o={type:"normal",msg:"param award_id lost",showBtn:!0,btnTxt:"去绑定",btnId:"toBindBtnAli"},r.renderToast(o);break;case 400:o={type:"normal",msg:"您尚未绑定支付宝<br>请绑定之后再领取呐",showBtn:!0,btnTxt:"去绑定",btnId:"toBindBtnAli"},r.renderToast(o);break;case 0:1==a.awardType?(o={type:"normal",msg:"您成功存入到"+a.alipayID+"支付宝账号",showBtn:!0,btnTxt:"去支付宝查看",btnId:"lunchAlipay"},n.html("已提现").removeClass("unused"),localStorage.firstTx=!0):(o={type:"normal",msg:"领奖成功",showBtn:!0,btnTxt:"确定",btnId:"hideMaskBtn"},n.html("已领取").removeClass("unused")),r.renderToast(o),n.data("state","3");break;case 401:r.bindMobile();break;case 402:o={type:"normal",msg:"领奖成功",showBtn:!0,btnTxt:"确定",btnId:"hideMaskBtn"},r.renderToast(o),n.data("state","3"),n.html("已领取").removeClass("unused");break;case 403:o={type:"normal",msg:"领奖成功",showBtn:!0,btnTxt:"确定",btnId:"hideMaskBtn"},r.renderToast(o),n.data("state","3"),n.html("已领取").removeClass("unused");break;case 404:if(o={type:"normal",msg:"",showBtn:!1,btnTxt:"",btnId:""},1==a.awardType)switch(e){case"PAYEE_NOT_EXIST":o.msg="很抱歉，您输出的支付宝帐号不存在，请重新输入",o.showBtn=!0,o.btnTxt="重新提取",o.btnId="reBind";break;case"PAYEE_USER_INFO_ERROR":o.msg="支付宝账号和姓名不匹配，请确认姓名是否正确",o.showBtn=!0,o.btnTxt="重新提取",o.btnId="reBind";break;default:o={type:"normal",msg:"领奖失败<br>换个姿势 再来一次",showBtn:!1,btnTxt:"",btnId:""}}r.renderToast(o);break;case 405:o={type:"normal",msg:"您尚未绑定淘宝账户<br>请绑定之后再领取呐",showBtn:!0,btnTxt:"去绑定",btnId:"toBindBtnTB"},r.renderToast(o);break;case-501:o={type:"normal",msg:"您的支付宝账号已完成多次奖金提取  换个支付宝帐号试下吧",showBtn:!0,btnTxt:"更换支付宝",btnId:"reBind"},r.renderToast(o);break;case-502:o={type:"normal",msg:"您的支付宝账号已完成多次奖金提取  换个支付宝帐号试下吧",showBtn:!0,btnTxt:"更换支付宝",btnId:"reBind"},r.renderToast(o);break;case-510:o={type:"normal",msg:"领奖失败<br>换个姿势 再来一次",showBtn:!0,btnTxt:"hideMaskBtn",btnId:""},r.renderToast(o);break;case-513:o={type:"normal",msg:"领奖失败<br>换个姿势 再来一次",showBtn:!1,btnTxt:"",btnId:""},r.renderToast(o);break;case-406:switch(o={type:"normal",msg:"领奖失败<br>换个姿势 再来一次",showBtn:!1,btnTxt:"",btnId:""},e){case"PAYEE_NOT_EXIST":o.msg="收款账户不存在";break;case"PAYEE_USER_INFO_ERROR":o.msg="支付宝账号和姓名不匹配，请确认姓名是否正确";break;case"PAYEE_USER_INFO_ERROR":o.msg="支付宝账号和姓名不匹配，请确认姓名是否正确"}r.renderToast(o);break;default:o={type:"normal",msg:"领奖失败<br>换个姿势 再来一次",showBtn:!1,btnTxt:"",btnId:""},r.renderToast(o)}}},{key:"addEvents",value:function(){var t=this;t.isLogin||(this.body.on("touchend","#login-btn",$.proxy(this.login,this)),this.body.on("touchend","#reload-btn",function(){location.reload()})),this.body.on("touchend","#lunchAlipay",function(){location.href=t.alipayRegUrl}),this.body.on("touchend",".award-btn",function(e){e.preventDefault(),e.stopPropagation();var a=$(this).attr("id"),n=($("#"+a),$(this).data("state")),r=$(this).data("award-id"),o=$(this).data("award-type"),i=$(this).data("url"),s=$(this).data("award-cdkey"),d=$(this).data("award-detail");if(t.awardId=r,t.awardDetail=d,3==o){if(s||d){var u={type:"ck",data:{cdKey:s,detail:d,awardUrl:i},awardId:r};return""!=i?(u.showBtn=!0,u.btnTxt="去使用",u.btnId="checkBtn"):u.showBtn=!1,void t.renderToast(u)}i&&(location.href=i),(0,p.default)("award","ck","CLK")}else if(4==o)1==n&&(t.ele=$(this),t.getLastUserAddress(r));else if(5==o)i&&(location.href=i);else if(1==n)if(1==o){var c={awardType:o,awardId:r};t.getAlipayInfo(c,$(this))}else{var l={awardType:o,awardId:r};t.getAward(l,$(this)),t.handleListData()}}),this.body.on("touchend","#reBind",function(){t.onBindAlipay=!1,t.showForm()}),this.body.on("touchend","#regAlipayBtn",function(){(0,p.default)("award","bdzfb","CLK")}),this.body.on("touchend",".txBtn",function(e){var a=$(this).parent("span").attr("data-award-id"),n={};t.onBindAlipay?(n={awardId:a,awardType:t.awardType,alipayID:t.alipayID,realName:t.realName},t.getAward(n,this.ele)):(t.alipayID=$("#alipayID").val(),t.realName=$("#realName").val(),n={awardId:a,awardType:t.awardType,alipayID:t.alipayID,realName:t.realName},t.validateForm(n))}),this.body.on("touchend","#hideMaskBtn",function(){t.hideMask()}),this.body.on("touchend","#toBindBtnAli",function(e){e.stopPropagation(),t.bindAli("alipay")}),this.body.on("touchend","#toBindBtnTB",function(e){e.stopPropagation(),t.bindAli("taobao")}),this.body.on("touchend",".clz",function(e){e.preventDefault(),t.hideMask()}),this.body.on("touchend","#checkBtn",function(e){var a=$(this).attr("url");a?location.href=a:t.hideMask()}),this.body.on("touchend","#saveAddress",function(e){var a=$(this).attr("data-award-id"),n=$("#realName").val(),r=$("#telPhone").val(),o=$("#address").val();if(""==n||""==r||""==o)return!1;var i={};i={awardId:a,realName:n,telPhone:r,address:o},t.recordAddress(i)})}},{key:"validateForm",value:function(t){var e=this;t.awardId&&t.alipayID&&t.realName&&e.getAward(t,$(this))}},{key:"recordAddress",value:function(t){var e=this,a={award_id:t.awardId,real_name:t.realName,tel_phone:t.telPhone,address:t.address},n={mtopDomain:h.default.mtopDomain,appKey:h.default.appKey,api:v.weakGet,ecode:0,bizType:v.bizType.recordAddress,bizParam:a};c.default.getMtopinfo(n).then(function(t){var a=void 0;if(t.data&&t.data.success&&t.data.result&&(a=t.data.result),a.e&&0==a.e.code){var n={type:"normal",msg:"领奖成功",showBtn:!0,btnTxt:"确定",btnId:"hideMaskBtn"};e.renderToast(n),e.ele.data("state","3"),e.ele.html("待发货").addClass("used").removeClass("unused")}else{var r={type:"normal",msg:"信息保存失败",showBtn:!0,btnTxt:"确定",btnId:"hideMaskBtn"};e.renderToast(r)}},function(t){})}},{key:"getLastUserAddress",value:function(t){var e=this,a={},n={mtopDomain:h.default.mtopDomain,appKey:h.default.appKey,api:v.weakGet,ecode:0,bizType:v.bizType.getLastUserAddress,bizParam:a};c.default.getMtopinfo(n).then(function(t){var a=t.data.result;if(a&&a.data){var n=JSON.parse(a.data);e.showAdressForm(n)}else e.showAdressForm()},function(t){e.showAdressForm({})})}},{key:"getLists",value:function(){var t={page_size:100},e={mtopDomain:h.default.mtopDomain,appKey:h.default.appKey,api:v.weakGet,ecode:0,bizType:v.bizType.getList,bizParam:t};c.default.getMtopinfo(e).then(function(t){d.default.publish("award-lists",t)},function(t){})}},{key:"getAlipayInfo",value:function(t,e){this.awardId=t.awardId,this.awardType=t.awardType,this.ele=e;var a={},n={mtopDomain:h.default.mtopDomain,appKey:h.default.appKey,api:v.get,ecode:0,bizType:v.bizType.getAlipayInfo,bizParam:a};c.default.getMtopinfo(n).then(function(t){d.default.publish("alipay-info",t)},function(t){})}},{key:"getAward",value:function(t,e){var a=this,n=this,r={award_id:t.awardId,alipay_account:t.alipayID,alipay_real_name:t.realName},o={mtopDomain:h.default.mtopDomain,appKey:h.default.appKey,api:v.weakGet,ecode:0,bizType:v.bizType.getAward,bizParam:r};switch(t.awardType){case 1:(0,p.default)("award","tx","CLK");break;case 2:(0,p.default)("award","lq","CLK");break;case 3:(0,p.default)("award","ck","CLK");break;case 4:(0,p.default)("award","lqsw","CLK");break;case 5:(0,p.default)("award","qsy","CLK")}c.default.getMtopinfo(o).then(function(r){if(r.data&&r.data.success&&r.data.result){var o=r.data.result;1==t.awardType?n.handleAward(o.e.code,o.e.desc,t,a.ele):n.handleAward(o.e.code,o.e.desc,t,e)}},function(t){})}},{key:"showForm",value:function(){var t=this,e={type:"alipayForm",msg:"请输入您的支付宝账号及对应姓名",showBtn:!0,btnTxt:"确定",btnId:"txBtn",awardId:t.awardId};t.renderToast(e)}},{key:"showAdressForm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={type:"userInfoForm",data:{realName:this.xssFilter(t.real_name)||"",telPhone:this.xssFilter(t.tel_phone)||"",address:this.xssFilter(t.address)||"",detail:this.awardDetail||""},awardId:this.awardId};e.showBtn=!0,e.btnTxt="保存",e.btnId="saveAddress",this.renderToast(e)}},{key:"xssFilter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t=t.replace(">",""),t=t.replace("<","")}},{key:"renderToast",value:function(t){var e=this,a="";t.msg&&(a+="<span class='txt'>\n                        <em class='title'>"+t.msg+"</em>\n                    </span>"),$(".mask").find(".toast").eq(0).removeClass("b-alipay"),"normal"==t.type?t.showBtn&&(a+="<span class='note' data-award-id='"+t.awardId+"'>\n                            <em id='"+t.btnId+"' class='active  "+t.btnId+"'>"+t.btnTxt+"</em>\n                        </span>",t.changeBtn&&(a="<span class='txt'>\n                                <em class='title'>"+t.msg+"</em>\n                            </span>\n                            <span class='note' data-award-id='"+t.awardId+"'>\n                                <em id='"+t.btnId+"' class='active "+t.btnId+"'>"+t.btnTxt+"</em>\n                                <em id='"+t.changeBtnId+"' class='active'>"+t.changeBtnTxt+"</em>\n                            </span>")):"ck"==t.type?t.showBtn?(t.data.detail&&(a="<span class='txt desc'>\n                                <em class='title'>"+t.data.detail+"</em>\n                            </span>"),t.data.cdKey&&(a+="<span class='txt key' style='padding-top:1.2rem'>\n                                <em class='title'>兑换码："+t.data.cdKey+"</em>\n                            </span>"),a+="<span class='note "+t.btnId+"' id='"+t.btnId+"' data-award-id='"+t.awardId+"' url='"+t.data.awardUrl+"'>\n                            <em class='active'>"+t.btnTxt+"</em>  \n                        </span>"):a="<span class='txt desc'>\n                            <em class='title'>"+t.data.detail+'</em>\n                        </span>\n                        <span class="txt key">\n                            <em class="title">兑换码：'+t.data.cdKey+"</em>\n                        </span>":"alipayForm"==t.type?(a+="<div class='ku-form'>\n                        <div class='ku-form-item'>\n                            <div class='ku-sl-error hide'>\n                            </div>  \n                        </div>\n                        <div class='ku-form-item'>\n                            <label class='ku-ui-label'>账号</label>\n                            <input class='ku-ui-input' id='alipayID' type='text' placeholder='邮箱/手机号/支付宝会员名'>\n                        </div>\n                        <div class='ku-form-item'>\n                            <label class='ku-ui-label'>姓名</label>\n                            <input class='ku-ui-input' id='realName' type='text' placeholder='支付宝对应的真实姓名'>\n                        </div>\n                    </div>\n                    <span class='note' data-award-id='"+t.awardId+"'>\n                        <em class='active "+t.btnId+"'>"+t.btnTxt+"</em>\n                    </span>",this.onRegAlipay&&(a+="<span class='tips'>\n                            没有支付宝，<a id='regAlipayBtn' href='"+e.alipayRegUrl+"'>立即注册</a>\n                        </span>"),$(".mask").find(".toast").eq(0).addClass("b-alipay")):"userInfoForm"==t.type&&(a+="<div class='ku-form'>\n                        <div class='ku-form-item'>\n                            <div class='ku-sl-error hide'>\n                            </div>  \n                        </div>\n                        <div class='ku-form-item'>\n                            <label class='ku-ui-label'><em style='color:red'>*</em>姓 名</label>\n                            <input class='ku-ui-input' id='realName' type='text' value='"+t.data.realName+"' placeholder='真实姓名'>\n                        </div>\n                        <div class='ku-form-item'>\n                            <label class='ku-ui-label'><em style='color:red'>*</em>手 机</label>\n                            <input class='ku-ui-input' id='telPhone' type='text' value='"+t.data.telPhone+"' placeholder='手机号'>\n                        </div>\n                        <div class='ku-form-item'>\n                            <label class='ku-ui-label'><em style='color:red'>*</em>邮寄地址</label>\n                            <textarea class='ku-ui-textarea' id='address' placeholder='邮寄地址'>"+t.data.address+"</textarea>\n                        </div>\n                    </div>",""!==t.data.detail&&(a+="<span class='tips'>\n                            "+t.data.detail+"\n                    </span>"),a+="<span class='note' id='"+t.btnId+"' data-award-id='"+t.awardId+"'>\n                        <em class='active '>"+t.btnTxt+"</em>\n                    </span>",$(".mask").find(".toast").eq(0).addClass("b-alipay")),$(".toast").eq(0).find(".toast-content").html(a),$(".toast").eq(0).show(),e.showMask()}},{key:"bindAli",value:function(t){var e=location.href;location.href="//id.youku.com/thirdparty/bindUser.htm?tlsite="+alipay+"&callback="+encodeURIComponent(e)+"&pid=8fb8456183734a86bfc1c15a1c761cdf"}},{key:"bindAliPay",value:function(){var t=location.href;location.href="//id.youku.com/thirdparty/bindUser.htm?tlsite=alipay&callback="+encodeURIComponent(t)+"&pid=8fb8456183734a86bfc1c15a1c761cdf"}},{key:"bindMobile",value:function(){var t=location.href;location.href="//id.youku.com/bindMobileView.htm?callback="+encodeURIComponent(t)}},{key:"renderItem",value:function(){var t="<p  id=awardBtn_"+id+"\n                            class='award-btn "+date.className+"' \n                            data-state='"+data.state+"' \n                            data-url='"+data.award_url+"'\n                            data-award-id='"+data.award_id+"'\n                            data-award-type='"+data.award_type+"'\n                            data-award-cdkey='"+data.award_cdkey+"'\n                            data-award-detail='"+data.detail+"'>\n                            "+data.stateTxt+"\n                        </p>";"<div class='list-group-item award-item'>\n                            <p>"+data.award_name+"</p>\n                            <p>"+data.award_time+"</p>\n                            "+t+"\n                        </div>"}},{key:"renderLists",value:function(t){for(var e="",a=document.querySelector(".award-lists"),n=0,r=t.length;n<r;n++){if(t[n].award_exp-this.today>0)if(1==t[n].state)switch(t[n].award_type){case 1:e="<p class='award-btn unused' data-state=\""+t[n].state+'" id=awardBtn_'+t[n].award_id+" data-award-id='"+t[n].award_id+"' data-award-type='"+t[n].award_type+"' data-url='"+t[n].award_url+"'  data-award-cdkey='"+t[n].award_cdkey+"' data-award-detail='"+t[n].detail+"'>提现</p>";break;case 2:e="<p class='award-btn unused' data-state=\""+t[n].state+'" id=awardBtn_'+t[n].award_id+" data-award-id='"+t[n].award_id+"' data-award-type='"+t[n].award_type+"' data-url='"+t[n].award_url+"'  data-award-cdkey='"+t[n].award_cdkey+"' data-award-detail='"+t[n].detail+"'>领取</p>";break;case 3:e="<p class='award-btn unused' data-state=\""+t[n].state+'" id=awardBtn_'+t[n].award_id+" data-award-id='"+t[n].award_id+"' data-award-type='"+t[n].award_type+"' data-url='"+t[n].award_url+"'  data-award-cdkey='"+t[n].award_cdkey+"' data-award-detail='"+t[n].detail+"'>查看</p>";break;case 4:e="<p class='award-btn toused' data-state=\""+t[n].state+'" id=awardBtn_'+t[n].award_id+" data-award-id='"+t[n].award_id+"' data-award-type='"+t[n].award_type+"' data-url='"+t[n].award_url+"'  data-award-cdkey='"+t[n].award_cdkey+"' data-award-detail='"+t[n].detail+"'>填地址</p>";break;case 5:e="<p class='award-btn toused' data-state=\""+t[n].state+'" id=awardBtn_'+t[n].award_id+" data-award-id='"+t[n].award_id+"' data-award-type='"+t[n].award_type+"' data-url='"+t[n].award_url+"'  data-award-cdkey='"+t[n].award_cdkey+"' data-award-detail='"+t[n].detail+"'>去使用</p>";break;case 6:e="<p class='award-btn unused' data-state=\""+t[n].state+'" id=awardBtn_'+t[n].award_id+" data-award-id='"+t[n].award_id+"' data-award-type='"+t[n].award_type+"' data-url='"+t[n].award_url+"'  data-award-cdkey='"+t[n].award_cdkey+"' data-award-detail='"+t[n].detail+"'>领取</p>";break;default:e="<p class='award-btn unused' data-state=\""+t[n].state+'" id=awardBtn_'+t[n].award_id+" data-award-id='"+t[n].award_id+"' data-award-type='"+t[n].award_type+"' data-url='"+t[n].award_url+"'  data-award-cdkey='"+t[n].award_cdkey+"' data-award-detail='"+t[n].detail+"'>提现</p>"}else switch(t[n].award_type){case 1:e="<p class='award-btn used' data-state='"+t[n].state+"' id=awardBtn_"+t[n].award_id+" data-award-id='"+t[n].award_id+"' data-award-type='"+t[n].award_type+"' data-url='"+t[n].award_url+"'  data-award-cdkey='"+t[n].award_cdkey+"' data-award-detail='"+t[n].detail+"'>已提现</p>";break;case 2:e="<p class='award-btn used' data-state='"+t[n].state+"' id=awardBtn_"+t[n].award_id+" data-award-id='"+t[n].award_id+"' data-award-type='"+t[n].award_type+"' data-url='"+t[n].award_url+"'  data-award-cdkey='"+t[n].award_cdkey+"' data-award-detail='"+t[n].detail+"'>已领取</p>";break;case 3:e="<p class='award-btn unused' data-state='"+t[n].state+"' id=awardBtn_"+t[n].award_id+" data-award-id='"+t[n].award_id+"' data-award-type='"+t[n].award_type+"' data-url='"+t[n].award_url+"'  data-award-cdkey='"+t[n].award_cdkey+"' data-award-detail='"+t[n].detail+"'>查看</p>";break;case 4:e=200==t[n].state?"<p class='award-btn used' data-state='"+t[n].state+"' id=awardBtn_"+t[n].award_id+" data-award-id='"+t[n].award_id+"' data-award-type='"+t[n].award_type+"' data-url='"+t[n].award_url+"'  data-award-cdkey='"+t[n].award_cdkey+"' data-award-detail='"+t[n].detail+"'>已发货</p>":"<p class='award-btn used' data-state='"+t[n].state+"' id=awardBtn_"+t[n].award_id+" data-award-id='"+t[n].award_id+"' data-award-type='"+t[n].award_type+"' data-url='"+t[n].award_url+"'  data-award-cdkey='"+t[n].award_cdkey+"' data-award-detail='"+t[n].detail+"'>待发货</p>";break;case 5:e=200==t[n].state?"<p class='award-btn used' data-state='"+t[n].state+"' id=awardBtn_"+t[n].award_id+" data-award-id='"+t[n].award_id+"' data-award-type='"+t[n].award_type+"' data-url='"+t[n].award_url+"'  data-award-cdkey='"+t[n].award_cdkey+"' data-award-detail='"+t[n].detail+"'>已使用</p>":"<p class='award-btn toused' data-state='"+t[n].state+"' id=awardBtn_"+t[n].award_id+" data-award-id='"+t[n].award_id+"' data-award-type='"+t[n].award_type+"' data-url='"+t[n].award_url+"'  data-award-cdkey='"+t[n].award_cdkey+"' data-award-detail='"+t[n].detail+"'>去使用</p>";break;case 6:e="<p class='award-btn used' data-state='"+t[n].state+"' id=awardBtn_"+t[n].award_id+" data-award-id='"+t[n].award_id+"' data-award-type='"+t[n].award_type+"' data-url='"+t[n].award_url+"'  data-award-cdkey='"+t[n].award_cdkey+"' data-award-detail='"+t[n].detail+"'>已领取</p>";break;default:e='<p class="award-btn used" data-state=\''+t[n].state+"' id=awardBtn_"+t[n].award_id+" data-award-id='"+t[n].award_id+"' data-award-type='"+t[n].award_type+"' data-url='"+t[n].award_url+"'  data-award-cdkey='"+t[n].award_cdkey+"' data-award-detail='"+t[n].detail+"'>已领取</p>"}else e='<p data-state="404">已过期</p>';var i='<div class="list-group-item award-item"><p>'+t[n].award_name+"</p><p>"+o(t[n].award_time)+"</p>"+e+"</div>";a.innerHTML+=i}}},{key:"handleState",value:function(t,e,a){t?e||this.showTip(a):this.showTip(a)}},{key:"showTip",value:function(t){var e=$(".container"),a=$(".hd-tips");a.html(""),t?(a.html(t),a.show().siblings(e).hide()):e.show().siblings(a).hide(),$(".bottom").show()}},{key:"showMask",value:function(t){$(".toast").html(t),$(".mask").show()}},{key:"hideMask",value:function(){$(".toast").find(".toast-content").html(""),$(".toast").hide(),$(".mask").hide()}},{key:"login",value:function(){(0,p.default)("award","dllk","CLK");try{w.default.showLogin({weburl:location.href,callback:function(t){location.reload()}})}catch(t){}}}]),t}();window.award=new m},function(t,exports,e){var a=e(49)("wks"),n=e(25),r=e(2).Symbol,o="function"==typeof r;t.exports=function(t){return a[t]||(a[t]=o&&r[t]||(o?r:n)("Symbol."+t))}},function(t,exports){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,exports){var e=Object;t.exports={create:e.create,getProto:e.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:e.getOwnPropertyDescriptor,setDesc:e.defineProperty,setDescs:e.defineProperties,getKeys:e.keys,getNames:e.getOwnPropertyNames,getSymbols:e.getOwnPropertySymbols,each:[].forEach}},function(t,exports,e){var $=e(3),a=e(22);t.exports=e(14)?function(t,e,n){return $.setDesc(t,e,a(1,n))}:function(t,e,a){return t[e]=a,t}},function(t,exports,e){var a=e(11);t.exports=function(t){if(!a(t))throw TypeError(t+" is not an object!");return t}},function(t,exports){var e=t.exports={version:"2.0.3"};"number"==typeof __e&&(__e=e)},function(t,exports,e){var a=e(12);t.exports=function(t,e,n){if(a(t),void 0===e)return t;switch(n){case 1:return function(a){return t.call(e,a)};case 2:return function(a,n){return t.call(e,a,n)};case 3:return function(a,n,r){return t.call(e,a,n,r)}}return function(){return t.apply(e,arguments)}}},function(t,exports){t.exports={}},function(t,exports,e){var a=e(2),n=e(4),r=e(25)("src"),o="toString",i=Function[o],s=(""+i).split(o);e(6).inspectSource=function(t){return i.call(t)},(t.exports=function(t,e,o,i){"function"==typeof o&&(o.hasOwnProperty(r)||n(o,r,t[e]?""+t[e]:s.join(String(e))),o.hasOwnProperty("name")||n(o,"name",e)),t===a?t[e]=o:i?t[e]?t[e]=o:n(t,e,o):(delete t[e],n(t,e,o))})(Function.prototype,o,function(){return"function"==typeof this&&this[r]||i.call(this)})},function(t,exports){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,exports){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,exports){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,exports,e){var a=e(10),n=e(1)("toStringTag"),r="Arguments"==a(function(){return arguments}());t.exports=function(t){var e,o,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(o=(e=Object(t))[n])?o:r?a(e):"Object"==(i=a(e))&&"function"==typeof e.callee?"Arguments":i}},function(t,exports,e){t.exports=!e(36)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,exports,e){var a=e(3).setDesc,n=e(19),r=e(1)("toStringTag");t.exports=function(t,e,o){t&&!n(t=o?t:t.prototype,r)&&a(t,r,{configurable:!0,value:e})}},function(t,exports){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,exports,e){var a=e(2),n=e(6),r=e(4),o=e(9),i=e(7),s="prototype",d=function(t,e,u){var c,l,p,f,h=t&d.F,y=t&d.G,w=t&d.S,v=t&d.P,m=t&d.B,g=y?a:w?a[e]||(a[e]={}):(a[e]||{})[s],exports=y?n:n[e]||(n[e]={}),b=exports[s]||(exports[s]={});y&&(u=e);for(c in u)l=!h&&g&&void 0!==g[c],p=(l?g:u)[c],f=m&&l?i(p,a):v&&"function"==typeof p?i(Function.call,p):p,g&&!l&&o(g,c,p,t&d.U),exports[c]!=p&&r(exports,c,f),v&&b[c]!=p&&(b[c]=p)};a.core=n,d.F=1,d.G=2,d.S=4,d.P=8,d.B=16,d.W=32,d.U=64,d.R=128,t.exports=d},function(t,exports,e){var a=e(7),n=e(41),r=e(40),o=e(5),i=e(53),s=e(54);t.exports=function(t,e,d,u,c){var l,p,f,h=c?function(){return t}:s(t),y=a(d,u,e?2:1),w=0;if("function"!=typeof h)throw TypeError(t+" is not iterable!");if(r(h))for(l=i(t.length);l>w;w++)e?y(o(p=t[w])[0],p[1]):y(t[w]);else for(f=h.call(t);!(p=f.next()).done;)n(f,y,p.value,e)}},function(t,exports){var e={}.hasOwnProperty;t.exports=function(t,a){return e.call(t,a)}},function(t,exports,e){"use strict";var a=e(21),n=e(17),r=e(9),o=e(4),i=e(19),s=e(8),d=e(42),u=e(15),c=e(3).getProto,l=e(1)("iterator"),p=!([].keys&&"next"in[].keys()),f="@@iterator",h="keys",y="values",w=function(){return this};t.exports=function(t,e,v,m,g,b,_){d(v,e,m);var k,T,x,O=function(t){if(!p&&t in E)return E[t];switch(t){case h:return function(){return new v(this,t)};case y:return function(){return new v(this,t)}}return function(){return new v(this,t)}},S=e+" Iterator",I=g==y,R=!1,E=t.prototype,B=E[l]||E[f]||g&&E[g],C=B||O(g),P=g?I?O("entries"):C:void 0,A="Array"==e?E.entries||B:B;if(A&&(x=c(A.call(new t)),x!==Object.prototype&&(u(x,S,!0),a||i(x,l)||o(x,l,w))),I&&B&&B.name!==y&&(R=!0,C=function(){return B.call(this)}),a&&!_||!p&&!R&&E[l]||o(E,l,C),s[e]=C,s[S]=w,g)if(k={values:I?C:O(y),keys:b?C:O(h),entries:P},_)for(T in k)T in E||r(E,T,k[T]);else n(n.P+n.F*(p||R),e,k);return k}},function(t,exports){t.exports=!1},function(t,exports){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,exports,e){var a,n,r,o=e(7),i=e(38),s=e(37),d=e(35),u=e(2),c=u.process,l=u.setImmediate,p=u.clearImmediate,f=u.MessageChannel,h=0,y={},w="onreadystatechange",v=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},m=function(t){v.call(t.data)};l&&p||(l=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return y[++h]=function(){i("function"==typeof t?t:Function(t),e)},a(h),h},p=function(t){delete y[t]},"process"==e(10)(c)?a=function(t){c.nextTick(o(v,t,1))}:f?(n=new f,r=n.port2,n.port1.onmessage=m,a=o(r.postMessage,r,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(a=function(t){u.postMessage(t+"","*")},u.addEventListener("message",m,!1)):a=w in d("script")?function(t){s.appendChild(d("script"))[w]=function(){s.removeChild(this),v.call(t)}}:function(t){setTimeout(o(v,t,1),0)}),t.exports={set:l,clear:p}},function(t,exports){var e=Math.ceil,a=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?a:e)(t)}},function(t,exports){var e=0,a=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+a).toString(36))}},function(t,exports){"use strict";var e=navigator.userAgent.toLowerCase(),a={isIE:/Trident/.test(e),lang:(navigator.language||navigator.systemLanguage).toLowerCase(),iOS:/(ipad|iphone|ipod)/i.test(e),isIPad:/ipad/i.test(e),iOSVersion:(e.match(/os\s+([\d_]+)\s+like\s+mac\s+os/)||[0,"0_0_0"])[1].split("_"),wphone:parseFloat((e.match(/windows\sphone\s(?:os\s)?([\d.]+)/)||["","0"])[1]),android:parseFloat((e.match(/android[\s|\/]([\d.]+)/)||["","0"])[1]),isQQ:/qq\/\d+\.\d/i.test(e),isWechat:/micromessenger/i.test(e),isSogou:/sogou/i.test(e),isLieBao:/liebao/i.test(e),isMaxthon:/mxbrowser/i.test(e),isUC:/ucbrowser/i.test(e),isYouku:/youku/i.test(e),youkuMainVersion:e.replace(/.*youku\/([0-9]+).*/i,"$1"),youkuSubVersion:e.replace(/.*youku\/[^.]+\.([0-9]+).*/i,"$1"),isYoukuHD:/youku_hd/i.test(e),isAlipay:/alipayclient/i.test(e),isWeiBo:/weibo/i.test(e),isDingDing:/dingtalk/i.test(e),isHuaWei:/huawei/i.test(e),isWindvane:/windvane/i.test(e)};a.isMobile=!(!a.iOS&&!a.wphone&&!a.android&&void 0===window.orientation),a.isPad=a.isMobile&&(a.isIPad||a.isYoukuHD||e.indexOf("mobile")==-1||e.indexOf("windows nt")!=-1&&e.indexOf("touch")!=-1)||!1,a.isPhone=a.isMobile&&!a.isPad,a.isAndroid=a.android,t.exports=a},function(t,exports,e){"use strict";function a(t){switch(t.arrayFormat){case"index":return function(e,a,n){return null===a?[r(e,t),"[",n,"]"].join(""):[r(e,t),"[",r(n,t),"]=",r(a,t)].join("")};case"bracket":return function(e,a){return null===a?r(e,t):[r(e,t),"[]=",r(a,t)].join("")};default:return function(e,a){return null===a?r(e,t):[r(e,t),"=",r(a,t)].join("")}}}function n(t){var e;switch(t.arrayFormat){case"index":return function(t,a,n){return e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===n[t]&&(n[t]={}),void(n[t][e[1]]=a)):void(n[t]=a);
};case"bracket":return function(t,a,n){return e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0===n[t]?void(n[t]=[a]):void(n[t]=[].concat(n[t],a)):void(n[t]=a)};default:return function(t,e,a){return void 0===a[t]?void(a[t]=e):void(a[t]=[].concat(a[t],e))}}}function r(t,e){return e.encode?e.strict?i(t):encodeURIComponent(t):t}function o(t){return Array.isArray(t)?t.sort():"object"==typeof t?o(Object.keys(t)).sort(function(t,e){return Number(t)-Number(e)}).map(function(e){return t[e]}):t}var i=e(67),s=e(65);exports.extract=function(t){return t.split("?")[1]||""},exports.parse=function(t,e){e=s({arrayFormat:"none"},e);var a=n(e),r=Object.create(null);return"string"!=typeof t?r:(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var e=t.replace(/\+/g," ").split("="),n=e.shift(),o=e.length>0?e.join("="):void 0;o=void 0===o?null:decodeURIComponent(o),a(decodeURIComponent(n),o,r)}),Object.keys(r).sort().reduce(function(t,e){var a=r[e];return Boolean(a)&&"object"==typeof a&&!Array.isArray(a)?t[e]=o(a):t[e]=a,t},Object.create(null))):r},exports.stringify=function(t,e){var n={encode:!0,strict:!0,arrayFormat:"none"};e=s(n,e);var o=a(e);return t?Object.keys(t).sort().map(function(a){var n=t[a];if(void 0===n)return"";if(null===n)return r(a,e);if(Array.isArray(n)){var i=[];return n.slice().forEach(function(t){void 0!==t&&i.push(o(a,t,i.length))}),i.join("&")}return r(a,e)+"="+r(n,e)}).filter(function(t){return t.length>0}).join("&"):""}},function(t,exports,e){var a=e(29);t.exports={Promise:a}},function(t,exports,e){t.exports=e(31)},function(t,exports,e){var a,n;!function(r,o,i){"undefined"!=typeof t&&t.exports?t.exports=i():(a=i,n="function"==typeof a?a.call(exports,e,exports,t):a,!(void 0!==n&&(t.exports=n)))}("mtop",this,function(){function t(){var t={},e=new l(function(e,a){t.resolve=e,t.reject=a});return t.promise=e,t}function e(t,e){for(var a in e)void 0===t[a]&&(t[a]=e[a]);return t}function a(t){var e=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document;e.appendChild(t)}function n(t){var e=[];for(var a in t)t[a]&&e.push(a+"="+encodeURIComponent(t[a]));return e.join("&")}function r(t){function e(t,e){return t<<e|t>>>32-e}function a(t,e){var a,n,r,o,i;return r=2147483648&t,o=2147483648&e,a=1073741824&t,n=1073741824&e,i=(1073741823&t)+(1073741823&e),a&n?2147483648^i^r^o:a|n?1073741824&i?3221225472^i^r^o:1073741824^i^r^o:i^r^o}function n(t,e,a){return t&e|~t&a}function r(t,e,a){return t&a|e&~a}function o(t,e,a){return t^e^a}function i(t,e,a){return e^(t|~a)}function s(t,r,o,i,s,d,u){return t=a(t,a(a(n(r,o,i),s),u)),a(e(t,d),r)}function d(t,n,o,i,s,d,u){return t=a(t,a(a(r(n,o,i),s),u)),a(e(t,d),n)}function u(t,n,r,i,s,d,u){return t=a(t,a(a(o(n,r,i),s),u)),a(e(t,d),n)}function c(t,n,r,o,s,d,u){return t=a(t,a(a(i(n,r,o),s),u)),a(e(t,d),n)}function l(t){for(var e,a=t.length,n=a+8,r=(n-n%64)/64,o=16*(r+1),i=new Array(o-1),s=0,d=0;a>d;)e=(d-d%4)/4,s=d%4*8,i[e]=i[e]|t.charCodeAt(d)<<s,d++;return e=(d-d%4)/4,s=d%4*8,i[e]=i[e]|128<<s,i[o-2]=a<<3,i[o-1]=a>>>29,i}function p(t){var e,a,n="",r="";for(a=0;3>=a;a++)e=t>>>8*a&255,r="0"+e.toString(16),n+=r.substr(r.length-2,2);return n}function f(t){t=t.replace(/\r\n/g,"\n");for(var e="",a=0;a<t.length;a++){var n=t.charCodeAt(a);128>n?e+=String.fromCharCode(n):n>127&&2048>n?(e+=String.fromCharCode(n>>6|192),e+=String.fromCharCode(63&n|128)):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128),e+=String.fromCharCode(63&n|128))}return e}var h,y,w,v,m,g,b,_,k,T=[],x=7,O=12,S=17,I=22,R=5,E=9,B=14,C=20,P=4,A=11,j=16,N=23,D=6,L=10,q=15,U=21;for(t=f(t),T=l(t),g=1732584193,b=4023233417,_=2562383102,k=271733878,h=0;h<T.length;h+=16)y=g,w=b,v=_,m=k,g=s(g,b,_,k,T[h+0],x,3614090360),k=s(k,g,b,_,T[h+1],O,3905402710),_=s(_,k,g,b,T[h+2],S,606105819),b=s(b,_,k,g,T[h+3],I,3250441966),g=s(g,b,_,k,T[h+4],x,4118548399),k=s(k,g,b,_,T[h+5],O,1200080426),_=s(_,k,g,b,T[h+6],S,2821735955),b=s(b,_,k,g,T[h+7],I,4249261313),g=s(g,b,_,k,T[h+8],x,1770035416),k=s(k,g,b,_,T[h+9],O,2336552879),_=s(_,k,g,b,T[h+10],S,4294925233),b=s(b,_,k,g,T[h+11],I,2304563134),g=s(g,b,_,k,T[h+12],x,1804603682),k=s(k,g,b,_,T[h+13],O,4254626195),_=s(_,k,g,b,T[h+14],S,2792965006),b=s(b,_,k,g,T[h+15],I,1236535329),g=d(g,b,_,k,T[h+1],R,4129170786),k=d(k,g,b,_,T[h+6],E,3225465664),_=d(_,k,g,b,T[h+11],B,643717713),b=d(b,_,k,g,T[h+0],C,3921069994),g=d(g,b,_,k,T[h+5],R,3593408605),k=d(k,g,b,_,T[h+10],E,38016083),_=d(_,k,g,b,T[h+15],B,3634488961),b=d(b,_,k,g,T[h+4],C,3889429448),g=d(g,b,_,k,T[h+9],R,568446438),k=d(k,g,b,_,T[h+14],E,3275163606),_=d(_,k,g,b,T[h+3],B,4107603335),b=d(b,_,k,g,T[h+8],C,1163531501),g=d(g,b,_,k,T[h+13],R,2850285829),k=d(k,g,b,_,T[h+2],E,4243563512),_=d(_,k,g,b,T[h+7],B,1735328473),b=d(b,_,k,g,T[h+12],C,2368359562),g=u(g,b,_,k,T[h+5],P,4294588738),k=u(k,g,b,_,T[h+8],A,2272392833),_=u(_,k,g,b,T[h+11],j,1839030562),b=u(b,_,k,g,T[h+14],N,4259657740),g=u(g,b,_,k,T[h+1],P,2763975236),k=u(k,g,b,_,T[h+4],A,1272893353),_=u(_,k,g,b,T[h+7],j,4139469664),b=u(b,_,k,g,T[h+10],N,3200236656),g=u(g,b,_,k,T[h+13],P,681279174),k=u(k,g,b,_,T[h+0],A,3936430074),_=u(_,k,g,b,T[h+3],j,3572445317),b=u(b,_,k,g,T[h+6],N,76029189),g=u(g,b,_,k,T[h+9],P,3654602809),k=u(k,g,b,_,T[h+12],A,3873151461),_=u(_,k,g,b,T[h+15],j,530742520),b=u(b,_,k,g,T[h+2],N,3299628645),g=c(g,b,_,k,T[h+0],D,4096336452),k=c(k,g,b,_,T[h+7],L,1126891415),_=c(_,k,g,b,T[h+14],q,2878612391),b=c(b,_,k,g,T[h+5],U,4237533241),g=c(g,b,_,k,T[h+12],D,1700485571),k=c(k,g,b,_,T[h+3],L,2399980690),_=c(_,k,g,b,T[h+10],q,4293915773),b=c(b,_,k,g,T[h+1],U,2240044497),g=c(g,b,_,k,T[h+8],D,1873313359),k=c(k,g,b,_,T[h+15],L,4264355552),_=c(_,k,g,b,T[h+6],q,2734768916),b=c(b,_,k,g,T[h+13],U,1309151649),g=c(g,b,_,k,T[h+4],D,4149444226),k=c(k,g,b,_,T[h+11],L,3174756917),_=c(_,k,g,b,T[h+2],q,718787259),b=c(b,_,k,g,T[h+9],U,3951481745),g=a(g,y),b=a(b,w),_=a(_,v),k=a(k,m);var M=p(g)+p(b)+p(_)+p(k);return M.toLowerCase()}function o(t){var e=new RegExp("(?:^|;\\s*)"+t+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return e?e[1]:void 0}function i(){var t=u.navigator.userAgent,e=t.match(/WindVane[\/\s]([\d\.\_]+)/);e&&(h.WindVaneVersion=e[1])}function s(t){this.id=++v,this.params=e(t||{},{v:"*",data:{},type:"get",dataType:"json"}),this.params.type=this.params.type.toLowerCase(),"object"==typeof this.params.data&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=y.slice(0)}var d,u=window,c=window.lib||{},l=u.Promise;if(!l){var p="当前浏览器不支持Promise，请在windows对象上挂载Promise对象";throw d={ERROR:p},new Error(p)}var f=l.resolve(),h={},y=[],w={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2},v=0;i(),s.prototype.use=function(t){if(!t)throw new Error("middleware is undefined");return this.middlewares.push(t),this},s.prototype.__processRequestType=function(t){var e=this,a=this.options;if(h.H5Request===!0&&(a.H5Request=!0),h.WindVaneRequest===!0&&(a.WindVaneRequest=!0),a.H5Request===!0?a.WindVaneRequest=!1:"undefined"==typeof a.WindVaneRequest&&"undefined"==typeof a.H5Request&&(c.windvane&&parseFloat(a.WindVaneVersion)>=5.4?a.WindVaneRequest=!0:a.H5Request=!0),a.WindVaneRequest&&(!c.windvane||parseFloat(a.WindVaneVersion)<5.4))throw new Error("WINDVANE_NOT_FOUND::缺少WindVane环境");t&&t().then(function(){var t=a.retJson.ret;return t instanceof Array&&(t=t.join(",")),a.WindVaneRequest===!0&&(!t||t.indexOf("HY_FAILED")>-1||t.indexOf("HY_NO_HANDLER")>-1||t.indexOf("HY_CLOSED")>-1||t.indexOf("HY_EXCEPTION")>-1||t.indexOf("HY_NO_PERMISSION")>-1)?(h.H5Request=!0,e.__sequence([e.__processRequestType,e.__processToken,e.__processRequestUrl,e.__loginHook,e.middlewares,e.__processRequest])):void 0})},s.prototype.__processRequestMethod=function(t){var e=this.params,a=this.options;"get"===e.type&&"jsonp"===e.dataType?a.getJSONP=!0:"get"===e.type&&"originaljsonp"===e.dataType?a.getOriginalJSONP=!0:"get"===e.type&&"json"===e.dataType?a.getJSON=!0:"post"===e.type&&(a.postJSON=!0),t()};var m="m_tk";s.prototype.__getTokenFromCookie=function(){var t=this.options;return t.token=t.token||o(m),t.token&&(t.token=t.token.split("_")[0]),l.resolve()},s.prototype.__processToken=function(t){var e=this,a=this.options;return this.params,a.token&&delete a.token,a.WindVaneRequest!==!0?f.then(function(){return e.__getTokenFromCookie()}).then(t).then(function(){var t=a.retJson,n=t.ret;if(n instanceof Array&&(n=n.join(",")),n.indexOf("TOKEN_EMPTY")>-1||n.indexOf("TOKEN_EXOIRED")>-1){if(a.H5Request&&++a.failTimes<a.maxRetryTimes)return e.__sequence([e.__processToken,e.__processRequestUrl,e.__loginHook,e.middlewares,e.__processRequest]);t.retType=w.TOKEN_EXPIRED}}):void t()},s.prototype.__processRequestUrl=function(t){var e=this.params,a=this.options;if(a.H5Request===!0){var n=e.api.toLowerCase(),o=e.v.toLowerCase(),i="//"+(e.url||a.mtopDomain)+"/h5/"+n+"/"+o+"/",s=e.appKey,d=(new Date).getTime();if(!e.url&&!a.mtopDomain)throw new Error("请设置请求地址");if(!e.appKey)throw new Error("请设置appKey");var u=r(n+"&"+o+"&"+d+"&"+s+"&"+(a.token||"")+"&"+r(""+e.data)),c={appKey:s,t:d,sign:u},l={data:e.data,ua:e.ua};Object.keys(e).forEach(function(t){"url"!=t&&"doLogin"!=t&&"undefined"==typeof c[t]&&"undefined"==typeof l[t]&&(c[t]=e[t])}),a.getJSONP?c.type="jsonp":a.getOriginalJSONP?c.type="originaljsonp":(a.getJSON||a.postJSON)&&(c.type="originaljson"),a.querystring=c,a.postdata=l,a.path=i}t()};var g=0;s.prototype.__requestJSONP=function(e){function r(t){if(c&&clearTimeout(c),l.parentNode&&l.parentNode.removeChild(l),"TIMEOUT"===t)window[u]=function(){window[u]=void 0;try{delete window[u]}catch(t){}};else{window[u]=void 0;try{delete window[u]}catch(t){}}}var o=t(),i=this.params,s=this.options,d=i.timeout||2e4,u="mtopjsonp"+ ++g,c=setTimeout(function(){e("TIMEOUT::接口超时"),r("TIMEOUT")},d);s.querystring.callback=u;var l=document.createElement("script");return l.src=s.path+"?"+n(s.querystring)+"&"+n(s.postdata),l.async=!0,l.onerror=function(){r("ABORT"),e("ABORT::接口异常退出")},window[u]=function(){s.results=Array.prototype.slice.call(arguments),r(),o.resolve()},a(l),o.promise},s.prototype.__requestJSON=function(e){function a(t){c&&clearTimeout(c),"TIMEOUT"===t&&s.abort()}var r=t(),o=this.params,i=this.options,s=new u.XMLHttpRequest,d=o.timeout||2e4,c=setTimeout(function(){e("TIMEOUT::接口超时"),a("TIMEOUT")},d);s.onreadystatechange=function(){if(4==s.readyState){var t,n,o=s.status;if(o>=200&&300>o||304==o){a(),t=s.responseText,n=s.getAllResponseHeaders()||"";try{t=/^\s*$/.test(t)?{}:JSON.parse(t),t.responseHeaders=n,i.results=[t],r.resolve()}catch(t){e("PARSE_JSON_ERROR::解析JSON失败")}}else a("ABORT"),e("ABORT::接口异常退出")}};var l,p,f=i.path+"?"+n(i.querystring);if(i.getJSON?(l="GET",f+="&"+n(i.postdata)):i.postJSON&&(l="POST",p=n(i.postdata)),s.open(l,f,!0),s.withCredentials=!0,s.setRequestHeader("Accept","application/json"),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.headers)for(var h in o.headers)s.setRequestHeader(h,o.headers[h]);return s.send(p),r.promise},s.prototype.__requestWindVane=function(e){function a(t){d.results=[t],i.resolve()}var n,r,o,i=t(),s=this.params,d=this.options,u=s.data,l=s.api,p=s.v,f=d.postJSON?1:0,h=d.getJSON||d.postJSON?"originaljson":"",y="https"===location.protocol?1:0,w=s.isSec||0,v=s.sessionOption||"AutoLoginOnly";if("undefined"==typeof s.ecode)throw new Error("UNEXCEPT_PARAM_ECODE::缺少ecode参数");return n=parseInt(s.ecode),o="undefined"!=typeof s.timer?parseInt(s.timer):"undefined"!=typeof s.timeout?parseInt(s.timeout):2e4,r=2*o,c.windvane.call("MtopWVPlugin","send",{api:l,v:p,post:String(f),type:h,isHttps:String(y),ecode:String(n),isSec:String(w),param:JSON.parse(u),timer:o,sessionOption:v,ext_headers:{referer:location.href}},a,a,r),i.promise},s.prototype.__loginHook=function(t){var e=this,a=this.options,n=this.params,r=n.doLogin||a.doLogin,o=function(){return e.__sequence([e.__processToken,e.__processRequestUrl,e.__loginHook,e.middlewares,e.__processRequest])};return t().then(function(){var t=a.retJson,n=t.ret;n instanceof Array&&(n=n.join(",")),(n.indexOf("SESSION_EXPIRED")>-1||n.indexOf("SID_INVALID")>-1||n.indexOf("AUTH_REJECT")>-1||n.indexOf("NEED_LOGIN")>-1)&&(!a.WindVaneRequest&&++a.failTimes<a.maxRetryTimes?r&&r.call(e,o):t.retType=w.SESSION_EXPIRED)})},s.prototype.__processRequest=function(t,e){var a=this;return f.then(function(){var t=a.options;if(t.H5Request&&(t.getJSONP||t.getOriginalJSONP))return a.__requestJSONP(e);if(t.H5Request&&(t.getJSON||t.postJSON))return a.__requestJSON(e);if(t.WindVaneRequest)return a.__requestWindVane(e);throw new Error("UNEXCEPT_REQUEST::错误的请求类型")}).then(t).then(function(){var t=a.options,e=(a.params,t.results[0]),n=e&&e.ret||[];e.ret=n,n instanceof Array&&(n=n.join(",")),n.indexOf("SUCCESS")>-1?e.retType=w.SUCCESS:e.retType=w.ERROR,t.retJson=e})},s.prototype.__sequence=function(e){function a(e){if(e instanceof Array)e.forEach(a);else{var i,s=t(),d=t();r.push(function(){return s=t(),i=e.call(n,function(t){return s.resolve(t),d.promise},function(t){return s.reject(t),d.promise}),i&&(i=i.catch(function(t){s.reject(t)})),s.promise}),o.push(function(t){return d.resolve(t),i})}}var n=this,r=[],o=[];e.forEach(a);for(var i,s=f;i=r.shift();)s=s.then(i);for(;i=o.pop();)s=s.then(i);return s};var b=function(t){t()},_=function(t){t()};return s.prototype.request=function(t){var a=this;t.maxRetryTimes=t.maxRetryTimes||5,t.failTimes=t.failTimes||0,this.options=e(t||{},h);var n=l.resolve([b,_]).then(function(t){var e=t[0],n=t[1];return a.__sequence([e,a.__processRequestMethod,a.__processRequestType,a.__processToken,a.__processRequestUrl,a.__loginHook,a.middlewares,a.__processRequest,n])}).then(function(){var t=a.options.retJson;return t.retType!==w.SUCCESS?l.reject(t):a.options.successCallback?void a.options.successCallback(t):l.resolve(t)}).catch(function(t){var e;return t instanceof Error?(console.error(t.stack),e={ret:[t.message],stack:[t.stack],retJson:w.ERROR}):e="string"==typeof t?{ret:[t],retJson:w.ERROR}:void 0!==t?t:a.options.retJson,a.options.failureCallback?void a.options.failureCallback(e):l.reject(e)});return this.__processRequestType(),a.options.H5Request&&(a.constructor.__firstProcessor||(a.constructor.__firstProcessor=n),b=function(t){a.constructor.__firstProcessor.then(t).catch(t)}),n},d=function(t){return new s(t)},d.request=function(t,e,a){var n={H5Request:t.H5Request,WindVaneRequest:t.WindVaneRequest,successCallback:e,failureCallback:a||e};return new s(t).request(n)},d.middlewares=y,d.config=h,d.RESPONSE_TYPE=w,d.CLASS=s,d})},function(t,exports,e){e(56),e(58),e(59),e(57),t.exports=e(6).Promise},function(t,exports,e){var a=e(1)("unscopables"),n=Array.prototype;void 0==n[a]&&e(4)(n,a,{}),t.exports=function(t){n[a][t]=!0}},function(t,exports){t.exports=function(t,e,a,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(a+": incorrect invocation!");return t}},function(t,exports,e){var a=e(18);t.exports=function(t,e){var n=[];return a(t,!1,n.push,n,e),n}},function(t,exports,e){var a=e(11),n=e(2).document,r=a(n)&&a(n.createElement);t.exports=function(t){return r?n.createElement(t):{}}},function(t,exports){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,exports,e){t.exports=e(2).document&&document.documentElement},function(t,exports){t.exports=function(t,e,a){var n=void 0===a;switch(e.length){case 0:return n?t():t.call(a);case 1:return n?t(e[0]):t.call(a,e[0]);case 2:return n?t(e[0],e[1]):t.call(a,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(a,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(a,e[0],e[1],e[2],e[3])}return t.apply(a,e)}},function(t,exports,e){var a=e(10);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==a(t)?t.split(""):Object(t)}},function(t,exports,e){var a=e(8),n=e(1)("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(a.Array===t||r[n]===t)}},function(t,exports,e){var a=e(5);t.exports=function(t,e,n,r){try{return r?e(a(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&a(o.call(t)),e}}},function(t,exports,e){"use strict";var $=e(3),a=e(22),n=e(15),r={};e(4)(r,e(1)("iterator"),function(){return this}),t.exports=function(t,e,o){t.prototype=$.create(r,{next:a(1,o)}),n(t,e+" Iterator")}},function(t,exports,e){var a=e(1)("iterator"),n=!1;try{var r=[7][a]();r.return=function(){n=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!n)return!1;var r=!1;try{var o=[7],i=o[a]();i.next=function(){r=!0},o[a]=function(){return i},t(o)}catch(t){}return r}},function(t,exports){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,exports,e){var a,n,r,o=e(2),i=e(23).set,s=o.MutationObserver||o.WebKitMutationObserver,d=o.process,u=o.Promise,c="process"==e(10)(d),l=function(){var t,e,r;for(c&&(t=d.domain)&&(d.domain=null,t.exit());a;)e=a.domain,r=a.fn,e&&e.enter(),r(),e&&e.exit(),a=a.next;n=void 0,t&&t.enter()};if(c)r=function(){d.nextTick(l)};else if(s){var p=1,f=document.createTextNode("");new s(l).observe(f,{characterData:!0}),r=function(){f.data=p=-p}}else r=u&&u.resolve?function(){u.resolve().then(l)}:function(){i.call(o,l)};t.exports=function(t){var e={fn:t,next:void 0,domain:c&&d.domain};n&&(n.next=e),a||(a=e,r()),n=e}},function(t,exports,e){var a=e(9);t.exports=function(t,e,n){for(var r in e)a(t,r,e[r],n);return t}},function(t,exports,e){var a=e(3).getDesc,n=e(11),r=e(5),o=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{r=e(7)(Function.call,a(Object.prototype,"__proto__").set,2),r(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return o(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:o}},function(t,exports,e){"use strict";var a=e(2),$=e(3),n=e(14),r=e(1)("species");t.exports=function(t){var e=a[t];n&&e&&!e[r]&&$.setDesc(e,r,{configurable:!0,get:function(){return this}})}},function(t,exports,e){var a=e(2),n="__core-js_shared__",r=a[n]||(a[n]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,exports,e){var a=e(5),n=e(12),r=e(1)("species");t.exports=function(t,e){var o,i=a(t).constructor;return void 0===i||void 0==(o=a(i)[r])?e:n(o)}},function(t,exports,e){var a=e(24),n=e(16);t.exports=function(t){return function(e,r){var o,i,s=String(n(e)),d=a(r),u=s.length;return d<0||d>=u?t?"":void 0:(o=s.charCodeAt(d),o<55296||o>56319||d+1===u||(i=s.charCodeAt(d+1))<56320||i>57343?t?s.charAt(d):o:t?s.slice(d,d+2):(o-55296<<10)+(i-56320)+65536)}}},function(t,exports,e){var a=e(39),n=e(16);t.exports=function(t){return a(n(t))}},function(t,exports,e){var a=e(24),n=Math.min;t.exports=function(t){return t>0?n(a(t),9007199254740991):0}},function(t,exports,e){var a=e(13),n=e(1)("iterator"),r=e(8);t.exports=e(6).getIteratorMethod=function(t){if(void 0!=t)return t[n]||t["@@iterator"]||r[a(t)]}},function(t,exports,e){"use strict";var a=e(32),n=e(44),r=e(8),o=e(52);t.exports=e(20)(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,a=this._i++;return!t||a>=t.length?(this._t=void 0,n(1)):"keys"==e?n(0,a):"values"==e?n(0,t[a]):n(0,[a,t[a]])},"values"),r.Arguments=r.Array,a("keys"),a("values"),a("entries")},function(t,exports,e){"use strict";var a=e(13),n={};n[e(1)("toStringTag")]="z",n+""!="[object z]"&&e(9)(Object.prototype,"toString",function(){return"[object "+a(this)+"]"},!0)},function(t,exports,e){"use strict";var a,n,r,$=e(3),o=e(21),i=e(2),s=e(7),d=e(13),u=e(17),c=e(11),l=(e(5),e(12)),p=e(33),f=e(18),h=e(34),y=e(47).set,w=e(50),v=e(23).set,m=e(45),g="Promise",b=i.TypeError,_=i.process,k=i[g],T="process"==d(_),x=function(){},O=function(t){var e,a=new k(x);return t&&(a.constructor=function(t){t(x,x)}),(e=k.resolve(a)).catch(x),e===a},S=function(){var t=!1,a=function(t){var e=new k(t);return y(e,a.prototype),e};try{if(t=k&&k.resolve&&O(),y(a,k),a.prototype=$.create(k.prototype,{constructor:{value:a}}),a.resolve(5).then(x)instanceof a||(t=!1),t&&e(14)){var n=!1;k.resolve($.setDesc({},"then",{get:function(){n=!0}})),t=n}}catch(e){t=!1}return!!t}(),I=function(t,e){return t===e||t===k&&e===r},R=function(t){var e;return!(!c(t)||"function"!=typeof(e=t.then))&&e},E=function(t){return I(k,t)?new B(t):new n(t)},B=n=function(t){var e,a;this.promise=new t(function(t,n){if(void 0!==e||void 0!==a)throw b("Bad Promise constructor");e=t,a=n}),this.resolve=l(e),this.reject=l(a)},C=function(t){try{t()}catch(t){return{error:t}}},P=function(t,e){if(!t._n){t._n=!0;var a=t._c;m(function(){for(var n=t._v,r=1==t._s,o=0,i=function(e){var a,o,i=r?e.ok:e.fail,s=e.resolve,d=e.reject;try{i?(r||(2==t._h&&N(t),t._h=1),a=i===!0?n:i(n),a===e.promise?d(b("Promise-chain cycle")):(o=R(a))?o.call(a,s,d):s(a)):d(n)}catch(t){d(t)}};a.length>o;)i(a[o++]);t._c=[],t._n=!1,e&&!t._h&&A(t)})}},A=function(t){v.call(i,function(){if(j(t)){var e,a,n=t._v;T?_.emit("unhandledRejection",n,t):(e=i.onunhandledrejection)?e({promise:t,reason:n}):(a=i.console)&&a.error&&a.error("Unhandled promise rejection",n),t._h=2}t._a=void 0})},j=function(t){var e,a=t._a||t._c,n=0;if(1==t._h)return!1;for(;a.length>n;)if(e=a[n++],e.fail||!j(e.promise))return!1;return!0},N=function(t){v.call(i,function(){var e;T?_.emit("rejectionHandled",t):(e=i.onrejectionhandled)&&e({promise:t,reason:t._v})})},D=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),P(e,!0))},L=function(t){var e,a=this;if(!a._d){a._d=!0,a=a._w||a;try{if(a===t)throw b("Promise can't be resolved itself");(e=R(t))?m(function(){var n={_w:a,_d:!1};try{e.call(t,s(L,n,1),s(D,n,1))}catch(t){D.call(n,t)}}):(a._v=t,a._s=1,P(a,!1))}catch(t){D.call({_w:a,_d:!1},t)}}};S||(k=function(t){p(this,k,g,"_h"),l(t),a.call(this);try{t(s(L,this,1),s(D,this,1))}catch(t){D.call(this,t)}},a=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},a.prototype=e(46)(k.prototype,{then:function(t,e){var a=E(w(this,k));return a.ok="function"!=typeof t||t,a.fail="function"==typeof e&&e,this._c.push(a),this._a&&this._a.push(a),this._s&&P(this,!1),a.promise},catch:function(t){return this.then(void 0,t)}}),B=function(){var t=new a;this.promise=t,this.resolve=s(L,t,1),this.reject=s(D,t,1)}),u(u.G+u.W+u.F*!S,{Promise:k}),e(15)(k,g),e(48)(g),r=e(6)[g],u(u.S+u.F*!S,g,{reject:function(t){var e=E(this),a=e.reject;return a(t),e.promise}}),u(u.S+u.F*(o||!S||O(!0)),g,{resolve:function(t){if(t instanceof k&&I(t.constructor,this))return t;var e=E(this),a=e.resolve;return a(t),e.promise}}),u(u.S+u.F*!(S&&e(43)(function(t){k.all(t).catch(x)})),g,{all:function(t){var e=this,a=E(e),n=a.resolve,r=a.reject,o=C(function(){var a=h(t),o=a.length,i=Array(o);o?$.each.call(a,function(t,a){var s=!1;e.resolve(t).then(function(t){s||(s=!0,i[a]=t,--o||n(i))},r)}):n(i)});return o&&r(o.error),a.promise},race:function(t){var e=this,a=E(e),n=a.reject,r=C(function(){f(t,!1,function(t){e.resolve(t).then(a.resolve,n)})});return r&&n(r.error),a.promise}})},function(t,exports,e){"use strict";var a=e(51)(!0);e(20)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=a(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,exports,e){var a=e(55),n=e(9),r=e(2),o=e(4),i=e(8),s=e(1),d=s("iterator"),u=s("toStringTag"),c=i.Array;e(3).each.call(["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],function(t){var e,s=r[t],l=s&&s.prototype;if(l){l[d]||o(l,d,c),l[u]||o(l,u,t),i[t]=c;for(e in a)l[e]||n(l,e,a[e],!0)}})},function(t,exports,e){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var n=e(26),r=a(n),o=e(27),i=a(o);t.exports={share:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={url:t.link,title:t.title,image:t.img,type:"type_djyy",desc:t.desc?t.desc:t.title};window.WindVane.call("WVBehavioursBridge","showShareView",e,function(e){t.success&&t.success(e)},function(e){t.error&&t.error()})},showLogin:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r.default.android)window.WindVane.call("WVLoginJSBridge","showLoginView","",function(e){location.href=t.weburl});else if(r.default.iOS){var e=r.default.isPad?"youkuhd":"youku";location.href=e+"://jsblogin?"+i.default.stringify(t)}},loadUrl:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new RegExp("http|https");t.url=e.test(t.url.substr(0,7).toLowerCase())?t.url:"https:"+t.url,r.default.android?window.WindVane.call("WVLoadBridge","loadUrl",t):r.default.iOS&&(location.href="youku://jsbjump?weburl="+encodeURIComponent(t.url))},close:function(){if(r.default.android){var t={};window.WindVane.call("WVActionJSBridge","closeActivity",t,function(t){},function(t){})}else r.default.iOS&&(location.href="youku://jsbclose")}}},function(t,exports,e){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var n=e(26),r=a(n),o=e(27),i=a(o),s=e(60),d=a(s);t.exports={share:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new RegExp("http|https");if(t.link=e.test(t.link.substr(0,7).toLowerCase())?t.link:"https:"+t.link,r.default.isWindvane)return void d.default.share(t);if(r.default.iOS){var a="youku";r.default.isPad&&(a="youkuhd"),location.href=a+"://jsbshare?title="+encodeURIComponent(t.title)+"&weburl="+encodeURIComponent(t.link)+"&imageurl="+encodeURIComponent(t.img)}else if(r.default.iOS){var a="youku";r.default.isPad&&(a="youkuhd"),location.href=a+"://jsbshare?title="+encodeURIComponent(t.title)+"&weburl="+encodeURIComponent(t.link)+"&imageurl="+encodeURIComponent(t.img)}else YoukuJSBridge.showShareView(JSON.stringify({title:t.title,url:t.link,image:t.img,img_only:t.img_only||!1}))},setShareInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.default.iOS?(iOSMoreInfo={url:t.link||location.href,imageurl:t.img||"",title:t.title},window.getMoreInfo||(window.getMoreInfo=function(){return{show:"yes",otherinfo:iOSMoreInfo}})):YoukuJSBridge.setShareInfo(JSON.stringify({url:t.link||location.href,title:t.title||document.title,image:t.img||""}))},play:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="youku",a="play";r.default.iOS&&(r.default.isPad?e="youkuhd":a="jsbplay"),location.href=e+"://"+a+"?source=mplaypage&vid="+t.vid},showLogin:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.weburl=t.weburl||location.href,r.default.isWindvane)d.default.showLogin(t);else if(r.default.iOS){var e=r.default.isPad?"youkuhd":"youku";location.href=e+"://jsblogin?"+i.default.stringify(t)}else t.callback&&(window.showLoginViewCallback=function(e){t.callback(e),window.showLoginViewCallback=void 0}),YoukuJSBridge.showLoginView(JSON.stringify({}))},loadUrl:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.shouldOverride||!1;if(r.default.isWindvane)d.default.loadUrl(t);else if(r.default.android){var a=new RegExp("http|https");t.url=a.test(t.url.substr(0,7).toLowerCase())?t.url:"http:"+t.url,YoukuJSBridge.loadUrl('{"url":"'+t.url+'","shouldOverride":'+e+"}")}else r.default.iOS&&(location.href="youku://jsbjump?weburl="+encodeURIComponent(t.url))},uploadVideo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r.default.iOS){var e="youku";r.default.isPad&&(e="youkuhd"),location.href=e+"://jsbjumpupload"}else YoukuJSBridge.showUploadVideoPage(JSON.stringify({topic:t.topic}))},vipPay:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(window.doPayCallback=function(e){t.callback(e),window.doPayCallback=void 0},r.default.iOS){var e="youku";r.default.isPad&&(e="youkuhd"),location.href=e+"://jsbpayment"}else{var a="vippay://pay?url_spm_id=xx&r_object_id=xx";URL.openURL(a,"_blank")}},getUtdid:function(){var t=ua.replace(/.+UTDID\s*([^;\)]+).*/,"$1");return/;/.test(t)&&(t=""),t},getOuid:function(){var t=ua.replace(/.+OUID\s*([^;\)]+).*/,"$1");return/;/.test(t)&&(t=""),t},close:function(){return r.default.isWindvane?void d.default.close():void(r.default.android?YoukuJSBridge.closeActivity({result:-1}):r.default.iOS&&(location.href="youku://jsbclose"))}}},function(t,exports){"use strict";function e(t,e,a,n){var r="pageCode="+t+"&actCode=card&posCode="+e;if(n)for(var o in n)r+="&"+o+"="+n[o];a||(a="CLK"),window.goldlog&&window.goldlog.record?window.goldlog.record("/yt/jslmhd.jslm.jslm",a,r,"H1476877877"):logStorage.push({action:a,conten:r})}Object.defineProperty(exports,"__esModule",{value:!0}),window.logStorage=[],exports.default=e},function(t,exports,e){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var n=e(28),r=(a(n),e(30)),o=a(r);t.exports={getMtopinfo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dev",a=JSON.stringify(t.bizParam),n={},r=/securySet/;"production"==e?(n.mtopDomain="pre-acs.youku.com",n.appKey="23774304"):"DEV"==e?(n.mtopDomain="youku-acs.waptest.taobao.com",n.appKey="4272"):(n.mtopDomain="acs.youku.com",n.appKey="23774304"),r.test(t.api)&&(t.isSec=1,t.asac="1A17523OKVNQCKI0VHPWTH"),o.default.config.mtopDomain=t.mtopDomain||n.mtopDomain;var i=o.default.request({api:t.api,v:"1.0",ecode:t.ecode,appKey:t.appKey||n.appKey,type:t.type,isSec:t.isSec,dataType:"jsonp",timeout:1e4,data:{bizType:t.bizType,bizParam:a,asac:t.asac}});return i}}},function(t,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={ENV:"",isLogin:!1,model:{topicIds:[316,167],postIds:[1142235]},header:{}};"DEV"==e.ENV?(e.mtopDomain="youku-acs.waptest.taobao.com",e.appKey="4272",e.getcommunitycontentsURL="//gw.ykc.1verge.test/"):"PRE"==e.ENV?(e.mtopDomain="pre-acs.youku.com",e.appKey="23774304",e.getcommunitycontentsURL="//pre-api-community.youku.com/"):(e.mtopDomain="acs.youku.com",e.appKey="23774304",e.getcommunitycontentsURL="//aserver.api.community.youku.com/"),exports.default=e},function(t,exports){/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/
"use strict";function e(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function a(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},a=0;a<10;a++)e["_"+String.fromCharCode(a)]=a;var n=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==n.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=a()?Object.assign:function(t,a){for(var i,s,d=e(t),u=1;u<arguments.length;u++){i=Object(arguments[u]);for(var c in i)r.call(i,c)&&(d[c]=i[c]);if(n){s=n(i);for(var l=0;l<s.length;l++)o.call(i,s[l])&&(d[s[l]]=i[s[l]])}}return d}},function(t,exports,e){var a;!function(n,r){"use strict";var o={};n.PubSub=o,r(o),a=function(){return o}.call(exports,e,exports,t),!(void 0!==a&&(t.exports=a))}("object"==typeof window&&window||this,function(t){"use strict";function e(t){var e;for(e in t)if(t.hasOwnProperty(e))return!0;return!1}function a(t){return function(){throw t}}function n(t,e,n){try{t(e,n)}catch(t){setTimeout(a(t),0)}}function r(t,e,a){t(e,a)}function o(t,e,a,o){var i,s=u[e],d=o?r:n;if(u.hasOwnProperty(e))for(i in s)s.hasOwnProperty(i)&&d(s[i],t,a)}function i(t,e,a){return function(){var n=String(t),r=n.lastIndexOf(".");for(o(t,t,e,a);r!==-1;)n=n.substr(0,r),r=n.lastIndexOf("."),o(t,n,e,a)}}function s(t){for(var a=String(t),n=Boolean(u.hasOwnProperty(a)&&e(u[a])),r=a.lastIndexOf(".");!n&&r!==-1;)a=a.substr(0,r),r=a.lastIndexOf("."),n=Boolean(u.hasOwnProperty(a)&&e(u[a]));return n}function d(t,e,a,n){var r=i(t,e,n),o=s(t);return!!o&&(a===!0?r():setTimeout(r,0),!0)}var u={},c=-1;t.publish=function(e,a){return d(e,a,!1,t.immediateExceptions)},t.publishSync=function(e,a){return d(e,a,!0,t.immediateExceptions)},t.subscribe=function(t,e){if("function"!=typeof e)return!1;u.hasOwnProperty(t)||(u[t]={});var a="uid_"+String(++c);return u[t][a]=e,a},t.clearAllSubscriptions=function(){u={}},t.clearSubscriptions=function(t){var e;for(e in u)u.hasOwnProperty(e)&&0===e.indexOf(t)&&delete u[e]},t.unsubscribe=function(e){var a,n,r,o=function(t){var e;for(e in u)if(u.hasOwnProperty(e)&&0===e.indexOf(t))return!0;return!1},i="string"==typeof e&&(u.hasOwnProperty(e)||o(e)),s=!i&&"string"==typeof e,d="function"==typeof e,c=!1;if(i)return void t.clearSubscriptions(e);for(a in u)if(u.hasOwnProperty(a)){if(n=u[a],s&&n[e]){delete n[e],c=e;break}if(d)for(r in n)n.hasOwnProperty(r)&&n[r]===e&&(delete n[r],c=!0)}return c}})},function(t,exports){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}}]);